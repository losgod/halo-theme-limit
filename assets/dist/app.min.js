function highlightMenu(){const e=document.querySelector("ul#pageMenu").querySelectorAll("a");let o=0;e.forEach((e,n)=>{window.location.href.search(e.href)!==-1&&(o=n)}),e[o].classList.add("is-active")}function coverPin(){const e=document.querySelector("#welcome"),o=e.querySelector(".cover");new ScrollMagic.Scene({duration:"100%",triggerElement:o,triggerHook:"onLeave"}).setPin(o,{pushFollowers:!1}).addTo(controller)}function titleScroll(){const e=document.querySelector("#welcome"),o=e.querySelector(".title");new ScrollMagic.Scene({duration:"20%",triggerElement:o,triggerHook:"onLeave",offset:"-200%"}).setTween(TweenMax.fromTo(o,.2,{opacity:1},{opacity:0})).addTo(controller)}function mainScroll(){const e=document.querySelector("main");new ScrollMagic.Scene({duration:200,triggerElement:e,triggerHook:"onEnter"}).setTween(TweenMax.fromTo(e,.2,{opacity:0},{opacity:1})).addTo(controller)}function postListScroll(){document.querySelector("#articles").querySelectorAll("article").forEach((e,o)=>{new ScrollMagic.Scene({duration:300,triggerElement:e,triggerHook:"onEnter"}).setTween(TweenMax.fromTo(e,.3,{opacity:0,y:"30px"},{opacity:1,y:0})).addTo(controller)})}function getCustomContent(e){fetch(e,{method:"GET",mode:"cors"}).then(e=>e.text()).then(e=>{document.querySelector("div#customInfo").innerHTML=marked(e),hljs.initHighlighting()}).catch(e=>{document.querySelector("section#info").style.display="none",console.error("自定义文本信息请求失败"),console.error(e)})}function to(e){""!==e&&(window.location.href=e)}function showRunningTime(e){const o=document.querySelector("span#running"),n=new Date(e),t=new Date;let c=t.getTime()-n.getTime(),r=c/864e5;o.innerText=Math.floor(r)+"天"}document.querySelector("span.more").onclick=function(){const e=document.querySelector("ul#pageMenu");e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show")},window.addEventListener("load",()=>{null!==document.querySelector("header#welcome")&&(coverPin(),titleScroll()),mainScroll(),highlightMenu()});